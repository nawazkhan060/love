<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Momina ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #fff0f5 0%, #ffe4e1 100%);
            font-family: 'Quicksand', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }
        .falling-heart {
            position: fixed;
            top: -50px;
            opacity: 0.25;
            z-index: -1;
            animation: fall linear infinite;
            pointer-events: none;
        }
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }
        .heartbeat {
            animation: heartbeat 1.4s ease-in-out infinite;
        }
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            14%, 42% { transform: scale(1.2); }
            28%, 56% { transform: scale(1); }
        }
        .page-container {
            max-width: 95%;
            width: 100%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 32px;
            box-shadow: 0 20px 50px rgba(220, 20, 60, 0.15);
            backdrop-filter: blur(10px);
            transform: perspective(1000px) rotateX(0);
            transition: transform 0.4s ease;
            border: 3px solid #ffb6c1;
        }
        .page-container:hover {
            transform: perspective(1000px) rotateX(-2deg) scale(1.01);
        }
        .qna-card {
            background: #fff9e6;
            border: 4px double #ffb74d;
            border-radius: 24px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            min-height: 400px;
            position: relative;
            overflow: hidden;
        }
        @media (min-width: 768px) {
            .qna-card { padding: 2.5rem; min-height: 550px; }
        }
        .qna-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(to right, #ffb74d, #ff9800, #ffb74d);
        }
        .qna-card::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(to right, #ffb74d, #ff9800, #ffb74d);
        }
        .qna-question {
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #c2185b;
            text-align: center;
            line-height: 1.3;
            min-height: 80px;
        }
        @media (min-width: 768px) {
            .qna-question { font-size: 2.8rem; margin-bottom: 2.5rem; min-height: 120px; }
        }
        .qna-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        @media (min-width: 768px) {
            .qna-options { gap: 1.8rem; margin-top: 2rem; }
        }
        .qna-option {
            background: white;
            border: 3px solid #ffb74d;
            border-radius: 20px;
            padding: 1rem;
            font-size: 1.2rem;
            font-weight: 700;
            text-align: center;
            cursor: pointer;
            transition: all 0.35s ease;
            box-shadow: 0 6px 15px rgba(0,0,0,0.07);
            font-family: 'Quicksand', sans-serif;
        }
        @media (min-width: 768px) {
            .qna-option { padding: 1.8rem; font-size: 1.9rem; }
        }
        .qna-option:hover {
            transform: translateY(-6px);
            border-color: #ff9800;
            box-shadow: 0 10px 25px rgba(0,0,0,0.12);
            background: #fff3e0;
        }
        .qna-option.correct {
            background: #e8f5e9;
            border-color: #4caf50;
            transform: scale(1.03);
            box-shadow: 0 0 25px rgba(76, 175, 80, 0.4);
        }
        .qna-option.incorrect {
            background: #ffebee;
            border-color: #f44336;
            animation: shake 0.6s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-12px); }
            40%, 80% { transform: translateX(12px); }
        }
        .qna-progress {
            height: 14px;
            background: #e0e0e0;
            border-radius: 7px;
            margin: 1.8rem 0;
            overflow: hidden;
            border: 2px solid #bdbdbd;
        }
        .qna-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #ff9800, #e64a19);
            border-radius: 7px;
            transition: width 0.6s ease;
        }
        .story-page {
            background: #f8f4e9;
            border: 4px double #d4a76a;
            border-radius: 24px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            min-height: auto;
            position: relative;
            font-family: 'Playfair Display', serif;
            line-height: 1.7;
            font-size: 1.1rem;
            color: #5d4037;
        }
        @media (min-width: 768px) {
            .story-page { font-size: 1.6rem; padding: 2.5rem; min-height: 550px; }
        }
        .story-page::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(to right, #d4a76a, #a57c3d, #d4a76a);
        }
        .story-page::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(to right, #d4a76a, #a57c3d, #d4a76a);
        }
        .story-highlight {
            background: linear-gradient(120deg, rgba(255,215,0,0.2), rgba(255,235,59,0.2));
            padding: 0.3rem 0.6rem;
            border-radius: 8px;
            font-weight: 700;
            color: #c62828;
        }
        .signature {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: #c2185b;
            text-align: right;
            margin-top: 2rem;
            font-weight: 700;
            letter-spacing: 1px;
        }
        @media (min-width: 768px) {
            .signature { font-size: 3.2rem; }
        }
        .final-message {
            background: linear-gradient(135deg, #ff99cc 0%, #ff66b3 100%);
            color: white;
            border-radius: 28px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 15px 40px rgba(0,0,0,0.25);
            position: relative;
            overflow: hidden;
        }
        @media (min-width: 768px) {
            .final-message { padding: 3rem; }
        }
        .final-message::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
        }
        .sparkle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
            animation: sparkle 3s infinite;
        }
        @keyframes sparkle {
            0% { transform: scale(0) translate(0, 0); opacity: 0.8; }
            50% { transform: scale(1) translate(var(--tx), var(--ty)); opacity: 1; }
            100% { transform: scale(0) translate(var(--tx), var(--ty)); opacity: 0; }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-6">
    <!-- Falling hearts background - SVG Hearts -->
    <div class="fixed inset-0 pointer-events-none overflow-hidden z-0">
        <svg class="falling-heart" style="left: 8%; animation-duration: 22s; animation-delay: 0s; width: 36px; height: 36px;" viewBox="0 0 24 24">
            <path fill="#e91e63" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
        <svg class="falling-heart" style="left: 22%; animation-duration: 18s; animation-delay: 2s; width: 32px; height: 32px;" viewBox="0 0 24 24">
            <path fill="#e91e63" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
        <svg class="falling-heart" style="left: 35%; animation-duration: 26s; animation-delay: 1s; width: 40px; height: 40px;" viewBox="0 0 24 24">
            <path fill="#e91e63" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
        <svg class="falling-heart" style="left: 58%; animation-duration: 20s; animation-delay: 3s; width: 28px; height: 28px;" viewBox="0 0 24 24">
            <path fill="#e91e63" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
        <svg class="falling-heart" style="left: 72%; animation-duration: 24s; animation-delay: 4s; width: 34px; height: 34px;" viewBox="0 0 24 24">
            <path fill="#e91e63" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
        <svg class="falling-heart" style="left: 88%; animation-duration: 30s; animation-delay: 5s; width: 38px; height: 38px;" viewBox="0 0 24 24">
            <path fill="#e91e63" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
    </div>

    <!-- Page 1: Initial Question -->
    <div id="page1" class="page-container text-center p-4 sm:p-6 md:p-14 relative z-10">
        <div class="heartbeat mb-8">
            <div class="text-6xl md:text-8xl">‚ù§Ô∏è</div>
        </div>
        <h1 class="text-3xl sm:text-4xl md:text-7xl font-bold mb-6 md:mb-8 text-pink-700 font-playfair">Will you please forgive me, Momina?</h1>
        <p class="mb-6 md:mb-12 text-lg sm:text-xl md:text-3xl text-gray-700">I know I've hurt you so many times, but my heart belongs only to you forever.</p>
        <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-12 mt-8">
            <button id="yes1" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-3 sm:px-10 sm:py-4 md:px-14 md:py-7 rounded-full text-xl sm:text-2xl md:text-4xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg w-full md:w-auto">YES</button>
            <button id="no1" class="bg-purple-500 hover:bg-purple-600 text-white px-8 py-3 sm:px-10 sm:py-4 md:px-14 md:py-7 rounded-full text-xl sm:text-2xl md:text-4xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg w-full md:w-auto">NO</button>
        </div>
    </div>

    <!-- Page 2: First "NO" Response -->
    <div id="page2" class="page-container text-center p-4 sm:p-6 md:p-14 hidden relative z-10">
        <div class="heartbeat mb-8">
            <div class="text-6xl md:text-8xl">ü•∫</div>
        </div>
        <h1 class="text-3xl sm:text-4xl md:text-7xl font-bold mb-6 md:mb-8 text-pink-700 font-playfair">Please, my love, think again?</h1>
        <p class="mb-6 md:mb-12 text-lg sm:text-xl md:text-3xl text-gray-700">Every moment without your forgiveness feels like an eternity. I can't live without you.</p>
        <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-12 mt-8">
            <button id="yes2" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-3 sm:px-10 sm:py-4 md:px-14 md:py-7 rounded-full text-xl sm:text-2xl md:text-4xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg w-full md:w-auto">YES</button>
            <button id="no2" class="bg-purple-500 hover:bg-purple-600 text-white px-8 py-3 sm:px-10 sm:py-4 md:px-14 md:py-7 rounded-full text-xl sm:text-2xl md:text-3xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg w-full md:w-auto">NO</button>
        </div>
    </div>

    <!-- Page 3: Second "NO" Response -->
    <div id="page3" class="page-container text-center p-4 sm:p-6 md:p-14 hidden relative z-10">
        <div class="heartbeat mb-8">
            <div class="text-6xl md:text-8xl">üò¢</div>
        </div>
        <h1 class="text-3xl sm:text-4xl md:text-7xl font-bold mb-6 md:mb-8 text-pink-700 font-playfair">Are you sure, Momina?</h1>
        <p class="mb-6 md:mb-12 text-lg sm:text-xl md:text-3xl text-gray-700">You've forgiven me every time before. My heart is breaking, please don't leave me like this.</p>
        <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-12 mt-8">
            <button id="yes3" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-3 sm:px-10 sm:py-4 md:px-14 md:py-7 rounded-full text-2xl sm:text-3xl md:text-5xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg w-full md:w-auto">YES</button>
            <button id="no3" class="bg-purple-500 hover:bg-purple-600 text-white px-8 py-3 sm:px-10 sm:py-4 md:px-14 md:py-7 rounded-full text-lg sm:text-xl md:text-2xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg w-full md:w-auto">NO</button>
        </div>
    </div>

    <!-- Page 4: Third "NO" Response -->
    <div id="page4" class="page-container text-center p-4 sm:p-6 md:p-14 hidden relative z-10">
        <div class="heartbeat mb-8">
            <div class="text-6xl md:text-8xl">üíî</div>
        </div>
        <h1 class="text-3xl sm:text-4xl md:text-7xl font-bold mb-6 md:mb-8 text-pink-700 font-playfair">Please... just forgive me?</h1>
        <p class="mb-6 md:mb-12 text-lg sm:text-xl md:text-3xl text-gray-700">I promise to never hurt you again. You're my everything, Momina.</p>
        <button id="yes4" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-4 sm:px-10 sm:py-5 md:px-16 md:py-9 rounded-full text-2xl sm:text-3xl md:text-6xl font-bold transition-all duration-300 transform hover:scale-105 shadow-xl mt-6 w-full md:w-auto">YES</button>
    </div>

    <!-- Page 5: Forgiveness Confirmed -->
    <div id="page5" class="page-container text-center p-4 sm:p-6 md:p-14 hidden relative z-10">
        <div class="heartbeat mb-8">
            <div class="text-7xl md:text-9xl">üíñ</div>
        </div>
        <h1 class="text-3xl sm:text-4xl md:text-7xl font-bold mb-6 text-pink-700 font-playfair">Thank you for forgiving me, Momina!</h1>
        <p class="mb-6 md:mb-10 text-lg sm:text-xl md:text-3xl text-gray-700">You've made me the happiest and most grateful person alive! ‚ù§Ô∏è</p>
        <button id="gifts" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-4 md:px-16 md:py-8 rounded-full text-lg sm:text-xl md:text-4xl font-bold transition-all duration-300 transform hover:scale-105 shadow-xl mt-4 w-full md:w-auto">Discover Our Journey ‚Üí</button>
    </div>

    <!-- Page 6: Q&A Challenge -->
    <div id="page6" class="page-container hidden relative z-10 p-3 sm:p-4 md:p-8">
        <div class="qna-card">
            <div class="text-xl sm:text-2xl md:text-4xl font-bold mb-4 md:mb-6 text-center text-pink-700 font-playfair">Our Love Story Q&A</div>
            <div class="qna-progress">
                <div class="qna-progress-bar" id="qna-progress"></div>
            </div>
            
            <div id="qna-question" class="qna-question">
                Who loves you most in this entire world?
            </div>
            
            <div class="qna-options" id="qna-options">
                <div class="qna-option" data-answer="0">Asad</div>
                <div class="qna-option" data-answer="1">Moiz</div>
                <div class="qna-option" data-answer="2">Momina</div>
            </div>
        </div>
    </div>

    <!-- Page 7: Our Story -->
    <div id="page7" class="page-container hidden relative z-10 p-4 sm:p-6 md:p-10">
        <div class="story-page">
            <h1 class="text-2xl sm:text-3xl md:text-5xl font-bold mb-6 md:mb-8 text-center text-brown-800 font-playfair">Our Beautiful Journey</h1>
            
            <p class="mb-6">Do you remember when it all began? That online group chat arranged by our Churai friend heheh hania sisters <span class="story-highlight">Hania</span> that brought us together...(But humre sath nhi rehti hehe)</p>
            
            <p class="mb-6">From that first conversation in the GC, my world changed forever. Every message, every laugh, every cry , evey maffi , every shared moment became a treasure I hold close to my heart.</p>
            
            <p class="mb-6">After exactly one year of getting to know each other, on <span class="story-highlight">April 15, 2025</span>, I finally gathered the courage to confess my love to you. That day changed my life forever. but i conffessd you before to haina</p>
            
            <p class="mb-6">I know I've hurt you so many times, Momina. But you've always been there, forgiving me every single time I asked for sorry. Your patience and love have been my greatest blessings but im worst men in this world who keeps hurting you again and again.</p>
            
            <p class="mb-6">I still cherish all those beautiful moments we shared - watching <span class="story-highlight">movies together (Let me eat your pancrease fav)</span>, binge-watching <span class="story-highlight">dramas (Business propasal)</span>, our special <span class="story-highlight">online dates hehe Card bhi behja tha</span>, and those precious <span class="story-highlight">late night calls</span> where we would talk for hours about everything and nothing whispers mai hehe.</p>
            
            <p class="mb-6">Every moment with you has been magical, not because of what we did, but because we were together. You make even the simplest things feel extraordinary.</p>
            
            <p class="mb-6">From that first message in Hania's GC to the day I confessed my love on April 15, 2025 - every second has been a gift that I will never take for granted again.</p>
            
            <p class="mb-6">I love you more than words can express, Momina. You are my heart, my soul, my everything. I promise to spend the rest of my life making you happy and never hurting you again Just this distance is making you feel that nawaz is worst in this world.</p>
            
            <div class="signature">- Your Nawaz Khan (sabse worst inssan)</div>
        </div>
        <button id="final-button" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-4 md:px-14 md:py-7 rounded-full text-lg sm:text-xl md:text-3xl font-bold transition-all duration-300 transform hover:scale-105 shadow-xl mt-8 block mx-auto w-full md:w-fit">Our Forever Promise ‚Üí</button>
    </div>

    <!-- Page 8: Final Message -->
    <div id="page8" class="page-container hidden relative z-10 p-4 sm:p-6 md:p-10">
        <div class="final-message">
            <div id="sparkle-container" class="absolute inset-0 pointer-events-none"></div>
            <div class="text-3xl sm:text-4xl md:text-7xl font-bold mb-6 font-playfair">I Choose You</div>
            <div class="text-lg sm:text-xl md:text-4xl mb-8">Today, tomorrow, and for all our tomorrows</div>
            <div class="text-xl sm:text-2xl md:text-5xl font-bold mb-10">Momina ‚ù§Ô∏è Nawaz</div>
            <div class="text-base sm:text-lg md:text-3xl italic">"In your forgiveness, I found my second chance at love."</div>
        </div>
    </div>

    <script>
        // Create sparkles for final page
        function createSparkles() {
            const container = document.getElementById('sparkle-container');
            if (!container) return;
            
            for (let i = 0; i < 40; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = `${Math.random() * 100}%`;
                sparkle.style.top = `${Math.random() * 100}%`;
                sparkle.style.setProperty('--tx', `${(Math.random() - 0.5) * 200}px`);
                sparkle.style.setProperty('--ty', `${(Math.random() - 0.5) * 200}px`);
                sparkle.style.animationDelay = `${Math.random() * 3}s`;
                container.appendChild(sparkle);
            }
        }

        // Initialize with page 1 visible
        document.getElementById('page1').classList.remove('hidden');

        // Function to show a specific page
        function showPage(pageId) {
            // Hide all pages
            const pages = ['page1', 'page2', 'page3', 'page4', 'page5', 'page6', 'page7', 'page8'];
            pages.forEach(page => {
                document.getElementById(page).classList.add('hidden');
            });
            
            // Show requested page
            document.getElementById(pageId).classList.remove('hidden');
            
            // Special handling for final page
            if (pageId === 'page8') {
                setTimeout(createSparkles, 100);
            }
        }

        // Set up button interactions for YES/NO escalation
        document.getElementById('no1').addEventListener('click', () => showPage('page2'));
        document.getElementById('yes1').addEventListener('click', () => showPage('page5'));
        
        document.getElementById('no2').addEventListener('click', () => showPage('page3'));
        document.getElementById('yes2').addEventListener('click', () => showPage('page5'));
        
        document.getElementById('no3').addEventListener('click', () => showPage('page4'));
        document.getElementById('yes3').addEventListener('click', () => showPage('page5'));
        
        document.getElementById('yes4').addEventListener('click', () => showPage('page5'));
        
        // Gifts button leads to Q&A
        document.getElementById('gifts').addEventListener('click', () => {
            showPage('page6');
            initQnA();
        });
        
        // Final button leads to story
        document.getElementById('final-button').addEventListener('click', () => showPage('page8'));

        // Q&A Challenge Implementation
        const questions = [
            {
                question: "Who loves you most in this entire world?",
                options: [
                    "Asad",
                    "Moiz",
                    "Momina"
                ],
                correct: 2
            },
            {
                question: "Who is the biggest love of Nawaz's life?",
                options: [
                    "Your dadi",
                    "Moiz",
                    "Nawaz"
                ],
                correct: 2
            },
            {
                question: "In whom will Nawaz kiss first in his life?",
                options: [
                    "Asad",
                    "Moiz",
                    "Momina (and only Momina forever)"
                ],
                correct: 2
            },
            {
                question: "Where did our beautiful story begin?",
                options: [
                    "At a caf√©",
                    "In an online GC by Hania (Joh abhi saath nhi heheh)",
                    "At school"
                ],
                correct: 1
            },
            {
                question: "When did we confess our love to each other?",
                options: [
                    "January 2025",
                    "April 15, 2025",
                    "December 2025"
                ],
                correct: 1
            }
        ];

        let currentQuestionIndex = 0;
        let correctAnswers = 0;

        function initQnA() {
            currentQuestionIndex = 0;
            correctAnswers = 0;
            updateQnAProgress();
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('qna-question').textContent = question.question;
            
            const optionsContainer = document.getElementById('qna-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'qna-option';
                optionElement.textContent = option;
                optionElement.setAttribute('data-answer', index);
                optionElement.addEventListener('click', () => checkAnswer(index));
                optionsContainer.appendChild(optionElement);
            });
        }

        function checkAnswer(selectedIndex) {
            const question = questions[currentQuestionIndex];
            const options = document.querySelectorAll('.qna-option');
            
            // Disable all options while processing
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            // Check if correct
            if (selectedIndex === question.correct) {
                // Correct answer
                options[selectedIndex].classList.add('correct');
                correctAnswers++;
                updateQnAProgress();
                
                // Move to next question after delay or show story page
                setTimeout(() => {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < questions.length) {
                        showQuestion();
                    } else {
                        // All questions answered correctly - show story page
                        showPage('page7');
                    }
                    // Re-enable options for next question
                    document.querySelectorAll('.qna-option').forEach(opt => {
                        opt.style.pointerEvents = 'auto';
                        opt.classList.remove('correct', 'incorrect');
                    });
                }, 1200);
            } else {
                // Incorrect answer
                options[selectedIndex].classList.add('incorrect');
                
                // Reset after delay
                setTimeout(() => {
                    options[selectedIndex].classList.remove('incorrect');
                    options.forEach(opt => opt.style.pointerEvents = 'auto');
                }, 1500);
            }
        }

        function updateQnAProgress() {
            const progress = (correctAnswers / questions.length) * 100;
            document.getElementById('qna-progress').style.width = `${progress}%`;
        }

        // Initialize sparkles on final page load
        document.addEventListener('DOMContentLoaded', () => {
            // Preload fonts
            const link = document.createElement('link');
            link.href = 'https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&family=Quicksand:wght@400;600&display=swap';
            link.rel = 'stylesheet';
            document.head.appendChild(link);
        });
    </script>
</body>
</html>
